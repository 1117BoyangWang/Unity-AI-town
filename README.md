# Ice Storm Survival Town - AI Community Simulation

🏘️ 基于Unity的AI小镇模拟项目，包含智能对话系统和生存机制。从复杂架构到简化实现的完整开发历程。

## 🎉 项目完成状态

✅ **基础AI代理系统** - 可工作的智能代理  
✅ **对话互动系统** - 代理间智能对话  
✅ **生存模拟机制** - 健康、活动状态管理  
✅ **可视化界面** - 实时状态显示和交互  
✅ **模块化架构** - 从简单到复杂的扩展能力

## 📖 项目概述

这是一个基于Unity的生成式AI代理小镇模拟项目，以冰雪风暴末日为背景，实现了AI代理的智能对话和生存模拟。项目展示了从复杂系统架构到实用简化版本的完整开发过程。

## 🚀 快速开始

### 当前可用版本

1. **简化演示版本** (`UltraSimpleDemo.cs`)
   - ✅ 立即可用，无需配置
   - 🤖 3个AI代理：小明(医生)、小红(工程师)、小李(教师)
   - 💬 智能对话系统，基于状态的互动
   - 📊 实时生存模拟和状态显示

2. **完整架构版本** (`Assets/Scripts/Disabled/`)
   - 🧠 支持OpenAI API集成
   - 🏗️ 复杂的记忆、规划、反思系统
   - ⚙️ 需要API配置，参考 `OPENAI_SETUP.md`

### 🎮 

1. 打开Unity 2022.3或更高版本
2. 加载项目，打开 `TestScene.unity`
3. 创建空GameObject，添加 `UltraSimpleDemo` 组件
4. 点击播放按钮开始AI小镇模拟

### 🗣️ 互动功能

- **按空格键** - 查看所有代理状态
- **点击UI按钮** - 手动查看状态或重新开始
- **观察对话** - 每5秒代理会自动对话
- **状态变化** - 健康值、活动状态实时更新

## 核心特性

## 智能代理系统
- 记忆系统: 基于向量数据库的长短期记忆机制
- 计划生成: 结合GOAP(Goal Oriented Action Planning)的智能规划
- 个性化: 每个代理都有独特的性格、技能和背景故事
- 情感模型: 代理会根据环境和互动产生情感变化

## 末日生存环境
- 动态天气: 实时变化的暴风雪系统
- 资源稀缺: 食物、燃料、药物等生存资源的动态管理
- 建筑系统: 代理可以建造和维护避难所
- 危险事件: 随机的生存挑战和威胁

## 社交与协作
- 信息传播: 代理间的知识和谣言传播机制
- 协作计划: 多个代理协同完成复杂任务
- 冲突解决: 资源竞争和社交矛盾的处理
- 社区治理: 群体决策和领导力的涌现

## 观察与分析
- 上帝视角: 用户可以观察整个社区的运作
- 个体跟踪: 深入了解特定代理的行为和思考过程
- 数据分析: 实时统计和历史数据可视化
- 行为记录: 所有重要事件和决策的完整记录

## 技术架构

## 核心组件
1. AIAgent: 基于LLM的智能代理核心
2. MemorySystem: 向量化记忆存储和检索
3. PlanningSystem: GOAP结合LLM的规划系统
4. WorldManager: 世界状态和环境管理
5. SocialNetwork: 代理间关系和信息传播
6. SurvivalSystem: 生存需求和资源管理

## 依赖项
- Unity 2022.3 LTS
- OpenAI API(可选，用于真实AI对话)
- 向量数据库集成
- 实时数据可视化组件

> AI增强: 项目支持OpenAI [OpenAI配置指南](OPENAI_SETUP.md)

## 世界观设定

## 背景故事
2024年，史无前例的冰雪风暴席卷全球，文明社会几近崩溃。一群幸存者聚集在一个偏远的小镇，必须在严酷的环境中生存下去。每个人都有自己的技能、恐惧和希望，他们必须学会合作，同时也要面对信任和背叛的考验。

# # 核心生存要素
- 温暖 : 维持体温，寻找燃料和保暖材料
- 食物: 寻找、制作和分配食物资源
- 安全: 保护社区免受野生动物和恶劣天气的威胁
- 健康: 处理疾病、受伤和心理健康问题
- 希望: 维持士气，寻找重建文明的可能

### 角色设定示例
1. 医生: 医疗技能，理性决策，关心他人健康
2. 工程师: 建筑修理技能，逻辑思维，喜欢解决问题
3. 教师: 知识传播，组织能力，关注社区和谐
4. 猎人: 食物获取技能，警觉性高，独立性强
5. 厨师: 食物制作技能，创造力，社交能力强

## 开发计划

## Phase 1: 基础架构
- [ ] Unity项目搭建
- [ ] 基础AI代理系统
- [ ] 简单的世界环境
- [ ] 基础UI界面

## Phase 2: 核心功能 
- [ ] 完整的记忆系统
- [ ] 复杂的规划算法
- [ ] 生存需求系统
- [ ] 社交互动机制

## Phase 3: 丰富内容 
- [ ] 多样化的代理角色
- [ ] 复杂的环境事件
- [ ] 高级UI和数据可视化
- [ ] 性能优化

## Phase 4: 测试与优化
- [ ] 长期稳定性测试
- [ ] 用户体验优化
- [ ] 文档完善
- [ ] 部署准备

## 使用方法

## 快速开始

1. 克隆并打开项目
   ```bash
   git clone [repository-url]
   cd Unity斯坦福小镇
   # 用Unity 2022.3 LTS打开项目
   ```

2. 配置OpenAI API（可选但推荐）
   ```bash
   # 方法1：环境变量
   export OPENAI_API_KEY="sk-your-api-key-here"
   
   # 方法2：配置文件（运行项目后创建）
   # 详细步骤见 OPENAI_SETUP.md
   ```

3. 启动模拟
   - 打开 `Assets/Scenes/MainScene.unity`
   - 点击Unity的播放按钮
   - 观察Console输出和Scene视图

## 操作指南

基础操作
- `暂停`/`继续` - 控制模拟进程
- `重启` - 重新开始30天模拟
- 调整时间缩放加速观察

观察重点
- Console中的AI思考日志
- Scene视图中代理的移动
- 天气系统的动态变化
- 代理间的社交互动

高级功能
- 修改代理数量和角色配置
- 调整天气系统参数  
- 启用OpenAI API获得真实AI对话

## 贡献指南

欢迎对项目做出贡献！请查看 [CONTRIBUTING.md] 了解详细信息。

## 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE] 文件了解详情。

## 致谢

本项目受到以下研究和项目的启发：
- Stanford's "Generative Agents: Interactive Simulacra of Human Behavior"
- Real Agents Framework by AkiKurisu
- LLM Ant Farm by grahamhome

## 联系方式

如有问题或建议，请通过以下方式联系：
- 开issue在GitHub仓库
- 邮件: [121010042@link.cuhk.edu.cn]

---

*让我们一起观察AI在极端环境下的表现！*